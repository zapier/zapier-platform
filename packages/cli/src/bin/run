#!/usr/bin/env node

const path = require('node:path');

(async () => {
  const oclif = await import('@oclif/core');
  await oclif.execute({ development: false, dir: __dirname });

  const argv = process.argv;
  if (argv.length > 1) {
    const binPath = argv[1];
    if (path.basename(binPath) === 'zapier') {
      console.warn(
        '[DEPRECATION WARNING] ' +
          'The executable name "zapier" is deprecated and will be remove in a future version. ' +
          'Please use "zapier-platform" instead.',
      );
    }
  }
})();
