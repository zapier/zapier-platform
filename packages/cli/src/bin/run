#!/usr/bin/env node

const path = require('node:path');

(async () => {
  const oclif = await import('@oclif/core');
  await oclif.execute({ development: false, dir: __dirname });

  // Show deprecation warning if invoked via the old "zapier" binary name
  const scriptPath = process.argv[1] || '';
  const binName = path.basename(scriptPath, path.extname(scriptPath));
  
  if (binName === 'zapier') {
    console.warn(
      '[DEPRECATION WARNING] ' +
        'The executable name "zapier" is deprecated and will be removed in a future version. ' +
        'Please use "zapier-platform" instead.',
    );
  }
})();
